---

layout: default

pagination:
  data: collections.news
  size: 6

---

<div>
{# ssss {{pagination.items}} #}
{% for p in pagination.items | sort(reverse=true, attribute='data.published')%}
    <div>{{p.data.title}}</div>
{% endfor %}
</div>

<div class="bg-white pt-16 pb-20 px-4 sm:px-6 lg:pt-24 lg:pb-28 lg:px-8">
  <div class="relative max-w-lg mx-auto divide-y-2 divide-gray-200 lg:max-w-7xl">
    <div>
      <h2 class="text-3xl tracking-tight font-extrabold text-gray-900 sm:text-4xl">
        Recent News
      </h2>
      <p class="mt-3 text-xl text-gray-500 sm:mt-4">
        If you have any questions, or any news for us to share, please email 
        <a href="mailto:contact@codinggrace.com">contact@codinggrace.com</a>.
      </p>
    </div>
    <div class="mt-12 grid gap-16 pt-12 lg:grid-cols-3 lg:gap-x-5 lg:gap-y-12">
        {# {% set postslist = collections.news | sort(reverse=true, attribute='data.published')  %} #}
        
        {# 
            The following is not supported in nunjucks, only in jinja 
            https://github.com/mozilla/nunjucks/issues/261
        
            {% for post in postslist if loop.index0 < 3 %}
        #}


        {% for post in pagination.items | sort(reverse=true, attribute='data.published')%}
        {# {% for post in postslist %} #}

        {# {% for i in range(0, 3) %} #}
        {# {% set post = postslist[i] %} #}
        <div>
            {# {% if loop.index0 < 4 %} #}
            <a href="{{ post.url | url }}" class="block mt-4">
                <p class="text-xl font-semibold text-gray-900">
                    {{ post.data.title }}
                </p>
                <p class="mt-3 text-base text-gray-500">
                    {{ post.data.description }}
                </p>
            </a>
            <div class="mt-6 flex items-center">
                <div>
                    <p class="text-sm font-medium text-gray-900">
                        {% if post.data.author.first_name  %}
                            {{ post.data.author.first_name  }} {{ post.data.author.last_name }}
                        {% elif post.data.author%}
                            {{ post.data.author }} 
                        {% else %}
                            Coding Grace
                        {% endif %}
                    </p>
                    <div class="flex space-x-1 text-sm text-gray-500">
                        <time>
                            {{ post.data.published | readableDate }}
                        </time>
                    </div>
                </div>
            </div>
            {# {% endif %} #}
        </div>
        {% endfor %}
    </div>
  </div>
</div>

<nav aria-labelledby="my-pagination">
  <h2 id="my-pagination">This is my Pagination</h2>
  <ol>
{%- for pageEntry in pagination.pages %}
    <li><a href="{{ pagination.hrefs[ loop.index0 ] }}"{% if page.url == pagination.hrefs[ loop.index0 ] %} aria-current="page"{% endif %}>Page {{ loop.index }}</a></li>
{%- endfor %}
  </ol>
</nav>

{# <section class="mt-15">
    {% set postslist = collections.news %}

    {% for post in postslist | sort(attribute='post.data.published') | reverse %}
        <article class="my-8">
            <h2 class="font-bold text-3xl text-gray-900 mb-2">
                <a href="{{ post.url | url }}">
                    {% if post.data.title %}
                        {{ post.data.title }}
                    {% else %}
                        Untitled
                    {% endif %}
                </a>
            </h2>
            <p class="text-base leading-6 text-gray-500 mb-3">
                <time>
                    {{ post.data.published | readableDate }}
                    by 
                    {% if post.data.author.first_name  %}
                        {{ post.data.author.first_name  }} {{ post.data.author.last_name }}
                    {% elif post.data.author%}
                        {{ post.data.author }} 
                    {% else %}
                        Coding Grace
                    {% endif %}

                </time>
            </p>
            {% if post.data.description %}
                <p class="text-lg text-gray-500 mb-3">
                    {{ post.data.description }}
                </p>
            {% endif %}

            <p>
                <a href="{{ post.url | url }}" class="text-indigo-500 font-bold text-lg">
                    Read more â†’
                </a>
            </p>

        </article>
    {% endfor %}
</section> #}